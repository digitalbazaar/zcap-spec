<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>Linked Data Object Capabilities</title>
    <script 
        src='https://www.w3.org/Tools/respec/respec-w3c-common' 
        class='remove'></script>
    <script class='remove'>
     var respecConfig = {
         specStatus: "CG-DRAFT",
         editors: [
             {name: "Manu Sporny",
              url: "http://digitalbazaar.com/",
              company: "Digital Bazaar",
              companyURL: "http://digitalbazaar.com/"},
             {name: "Christopher Lemmer Webber",
              url: "https://dustycloud.org/",
              company: "Spec-Ops",
              companyURL: "https://www.spec-ops.io/"}],
         authors: [
             {name: "Manu Sporny",
              url: "http://digitalbazaar.com/",
              company: "Digital Bazaar",
              companyURL: "http://digitalbazaar.com/"},
             {name: "Christopher Lemmer Webber",
              url: "https://dustycloud.org/",
              company: "Spec-Ops",
              companyURL: "https://www.spec-ops.io/"},
             {name: "Mark S. Miller",
              url: "http://www.erights.org/talks/thesis/"}],
         processVersion: 2017,
         edDraftURI: "https://w3c-ccg.github.io/ld-ocap/",
         shortName: "ld-ocap",

         //// CCG needs to approve this as a work item first :)
         // // name of the WG
         // wg:           "Credentials Community Group",
         // 
         // // URI of the public WG page
         // wgURI:        "https://www.w3.org/community/credentials/",
         // 
         // // name (with the @w3c.org) of the public mailing to which comments are due
         // wgPublicList: "public-credentials",
     };
    </script>
  </head>
  <!-- Style guide for this document:
        - Indent tags appropriately according to nesting depth
        - Newline after every sentence (this helps making reading git diffs
          easier, as well as merging in complicated changes, because a change
          will only affect a sentence at a time rather than a complete
          paragraph)
        - Wrap text at column 79 (the least critical of the three conventions
          since this merely helps the text look nicer in many text editors)
     -->
  <body>
    <section id='abstract'>
      <p>
        Linked Data Capabilities (<code>ld-ocap</code> for short) provide a
        secure way for linked data systems to grant and express authority
        utilizing the
        <a href="https://en.wikipedia.org/wiki/Object-capability_model">
          object capability model</a>.
        Capabilities are expressed through "proclamation chains" which are
        themselves linked data documents signed through
        <a href="https://w3c-dvcg.github.io/ld-signatures/">
          Linked Data Signatures</a>.
        Linked Data Capabilities support delegating authority to other entities
        on the network.
        "Caveats" may be attached to proclamations which may be used to
        restrict the scope of their use, for example to restrict the methods
        which may be used or providing a mechanism by which the capability may
        be later revoked.
      </p>
    </section>
    <section id='sotd'>
      <p>
        This specification is currently being drafted to be considered as a
        work item for the
        <a href="https://w3c-ccg.github.io/">Community Credentials Group</a>.
      </p>
    </section>
    <section id="introduction">
      <h2>Introduction</h2>
      <p><i>
        This document is being based off of a
        <a href="https://github.com/WebOfTrustInfo/rebooting-the-web-of-trust-fall2017/blob/master/draft-documents/lds-ocap/lds-ocap.md">paper from Rebooting Web of Trust</a>.
        In the early stages of this document some ideas may be better
        described in that paper than yet in this specification.
      </i></p>

      <p>
        This document does not cover a specific method for delivering
        Linked Data Capabilities to an object, though something like
        the inbox property and associated delivery mechanisms from
        Linked Data Notifications and ActivityPub is one possible
        system.
        However there is nothing about Linked Data Capabilities that is
        specific to HTTP; for example, both proclamations and invocations
        could be stored on a blockchain or a distributed hash table.
      </p>
    </section>
    <section id="terminology">
      <h2>Terminology</h2>
      <!-- TODO: Add introductory paragraph to this section -->
      <dl>
        <dt>capability</dt>
        <dd>
          Authority which may be invoked to perform some operation upon a
          (linked data) object.
          Represented as a proclamation chain within the context of
          Linked Data Capabilities.
        </dd>

        <dt>caveat</dt>
        <dd>
          Also known as "attenuation" within object capability literature,
          a "caveat" may be attached to a proclamation as a restriction on
          how that capability may be used.
          Delegated capabilities will preserve caveats and may be themselves
          may be further restricted by adding more caveats.
        </dd>

        <dt>invocation</dt>
        <dd>
          The "activation" of a capability, represented as a linked data
          document which is signed in such a way that matches authority
          granted through a prior proclamation.
          <!-- TODO: fix up awkward wording here -->
          An invocation may have arguments, similar to how a procedure call
          may have arguments.
        </dd>

        <!-- TODO: Maybe this should be removed, because it's hard not
           to use object in other ways-->
        <dt>object</dt>
        <dd>
          Though the term object has
          <a href="http://mumble.net/~jar/articles/oo.html">many definitions</a>
          in computer science, within the context of Linked Data Capabilities
          a "linked data object" is an entity which is associated with a URI and
          which is capable of having proclamation chain based capabilities
          being invoked against it.
        </dd>

        <dt>method</dt>
        <dd>
          An argument of an invocation which directs what particular
          functionality of the object is being used.
          For example, an invocation against a file storage service
          may specify either a write method or a read method.
        </dd>

        <dt>proclamation / proclamation chain</dt>
        <dd>
          A proclamation is a linked data document which represents a
          capability to an object.
          Proclamations may be delegated by issuing new proclamations
          which point at previous proclamations, possibly with further
          caveats attached.
        </dd>

        <dt>subject</dt>
        <dd>
          TODO
        </dd>
      </dl>
    </section>

    <section id="proclamations">
      <h2>Proclamations and Proclamation Chains</h2>

      <p>
        Linked Data Capabilities are encoded through "proclamation chains".
        Proclamations are linked data documents which express a grant
        of authority from some entity (or more commonly, an entitiy's
        specific key) to a specific subject, possibly restricted
        through "caveats".
        (This includes the possibility of revocation through a caveat
        that expresses such a mechanism.)
      </p>

      <p>
        Every proclamation MUST have:
      </p>
      
      <ul>
        <!-- TODO: What's the right way to say this?
        This sounds very json-ld centric -->
        <li>an associated <code>id</code></li>
        <li>the <code>type</code> <code>Proclamation</code></li>
        <li>
          a <code>subject</code>, which links to a linked data object
          to which this capability grants the authority to invoke
          operations upon
        </li>
        <li>
          <code>grantedKey</code>, which links to one or more keys
          being granted authority to use this capability
        </li>
        <li>
          a <code>signature</code> field, which signs the document with
          <a href="https://w3c-dvcg.github.io/ld-signatures/">
            Linked Data Signatures</a>
          by one of the <code>subject</code>'s keys
        </li>
      </ul>

      <p class="note">
        Unlike access control lists, the focus of capablities is about
        what action is being performed by who is "holding" a
        capability they have authority to use rather than checking who
        is performing a specific action every time an action is
        performed.
        <!-- TODO: expand -->
      </p>

      <!-- TODO: Linking to a specific key vs linking to a DID which
         may have a key which changes over time-->

    </section>

    <section id="invocation">
      <h2>Invocation</h2>

      <!-- TODO: talk about the need to make clear the root / framing
         of an invocation -->

      <section id="methods">
        <h2>Methods</h2>
      </section>
    </section>

  </body>
</html>
